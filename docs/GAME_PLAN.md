# GAME PLAN — 秘术工坊/契约放置（占位可换）

## 目标
- 交付一个原创的放置/增量原型，核心差异化在于「订单/契约驱动的节奏 + 可选研究分支 + Ascend 软重置」，支持离线收益与确定性模拟。
- 数据驱动的数值与配置，便于调优与主题替换；保持最小可玩的垂直切片。

## 非目标
- 不做具体剧情、美术与外部资产；不复制现有游戏的名称、UI 布局或数值表。
- 不接入网络服务、社交或商业化；不实现复杂多线生产链或地图探索。

## 核心循环（在线）
1. 被动产出：Essence（E）按确定性 tick 生成，Research 点（R）主要来自订单/契约完成与研究节点。
2. 主动操作：Focus 获得小额 E，受冷却或时间片限制；接受订单/契约并分配资源。
3. 成长：购买升级提升 E 产出或效率，选择研究分支解锁新的订单槽/奖励。
4. 进阶：完成契约提高 Reputation/评分，开启更高阶订单与研究节点。
5. 软重置：达成 Ascend 条件后重置部分进度，获得 Insight（I）提供永久系数，保留研究解锁与元数据。

## 核心循环（离线）
- 记录最后时间戳，加载时按确定性逻辑模拟离线时长，受离线上限（如 8 小时）与资源/订单容量约束。
- 离线期间不触发玩家主动操作，只结算被动产出、进行中的契约、可自动完成的研究/升级（若设计允许）。

## 系统拆解
- 资源：Essence（E，主货币）、Insight（I，Ascend 货币）、Research 点（R，研究货币）、Reputation/评分（解锁订单档位）、Herb/Ore（材料资源，供后续炼丹/炼器）。
- 升级：数值型（线性/指数成本），作用于产量、效率、容量、订单速度等。
- 订单/契约：有限并行槽位，带时长、需求、奖励与约束（例如限定升级等级或资源类型），完成度可受研究与升级加成。
- 研究分支：树/网格式节点，解锁新订单类型、额外槽位、加成或自动化。
- Ascend：基于累计 E 或契约评分达成，重置 E/订单/部分升级，获得 Insight 并解锁代际加成。
- 境界线：以阶段节点串联解锁 Tab/契约/研究等内容，突破条件数据驱动；飞升会重置回初始境界但保留研究。
- 存档/迁移：包含 schemaVersion、seed、时间戳、离线累计等字段，确保兼容。

## 对标补齐路线概览
- 参考修仙类玩法仅用于识别缺口，不复制任何名称/数值/布局；所有名词均可换皮。
- 补齐顺序：先落地灵阶主线（见 M5），再补多资源/库存与配方队列（M6），随后叠加炼丹/炼器/装备（M7），最后引入门派弟子与历练自动化（M8）。
- 具体系统矩阵与建议详见 `docs/BENCHMARK_XIUZHEN.md`，所有新增数据与 UI 需保持确定性与数据驱动。

## UI 信息架构（占位布局）
- 顶部：资源栏（E、I、R、订单槽状态、Ascend 进度）。
- 主区 Tab：
  - 「境界」：展示当前/下一境界、突破条件、突破按钮与提醒。
  - 「订单」：订单列表（显示评分/推荐标签，支持按评分排序与隐藏不可接）、接受/完成按钮、进度条与约束提示。
  - 「升级」：升级卡片（成本、效果、购买按钮），支持排序/过滤。
  - 「研究」：研究树视图，显示前置、成本（R）、效果，购买按钮。
  - 「Ascend」：软重置说明、收益预览、确认按钮。
  - 「开发/调试」：快进 10s/60s、导出/导入存档 JSON、重置按钮。
- 辅助：通知/提示框显示契约到期、研究解锁等事件。

## 里程碑
- M0（文档冻结）：GAME_PLAN、SYSTEMS、ECONOMY、ROADMAP、DECISIONS 完整并达成共识。
- M1（可玩切片）：基础资源循环、升级购买、订单/契约最小实现、离线结算、存档/加载。
- M2（差异化强化）：研究分支上线，契约约束/评分体系可感知，Ascend 基础收益与保留逻辑可玩。
- M3（平衡与可维护）：数据驱动配置完整，关键公式可调，性能与确定性验证，迁移工具到位。
- M4（发布准备）：UI/文案打磨（仍为占位）、新手指引、错误处理与可观测性（日志/调试面板）就绪。
